/*! route-auth 2015-10-13 */
!function(a,b){"function"==typeof define&&define.amd?define("route-auth",[],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){angular.module("vokal.RouteAuth",["LocalStorageModule"]).provider("RouteAuth",function(){"use strict";var a=null,b="/sign-in";this.setRedirectPath=function(a){b=a},this.$get=["$q","$location","$rootScope","localStorageService",function(c,d,e,f){var g={loadRoles:function(){a=f.get("user:roles")||[]},storeRoles:function(b){a=b,f.set("user:roles",b)},addRole:function(b){g.hasRoles([b])||(a.push(b),f.set("user:roles",a))},hasRoles:function(b){var c=!1;null===a&&g.loadRoles();for(var d=0;c===!1&&d<b.length;d++)c=a.indexOf(b[d])>=0;return c},hasNoRoles:function(){return null===a&&g.loadRoles(),0===a.length},auth:function(a,e){var f=c.defer();return e=e||{},g.hasRoles(a)||0===a.length&&g.hasNoRoles()?f.resolve():(f.reject(),d.path(e.redirectPath||b)),f.promise}};return g}]})});